; DO NOT DISTRIBUTE
; SSBM Tripples

@title Triples Dat

; ===== MEMORY MAP =====
; 002800 - 0028FF reserved for P5/P6 ConvertRawInput output.
;           CSS State, CSS Dirty Flag, unused, unused
@set 002900 00000000
;           unused, unused, unused, unused
@set 002904 00000000
@set 002910 00000000 ; P1 CSS data.
@set 002914 00000000
@set 002918 00000000 ; P2 CSS data.
@set 00291C 00000000
@set 002920 00000000 ; P3 CSS data.
@set 002924 00000000
@set 002928 00000000 ; P4 CSS data.
@set 00292C 00000000
; 002A00 - 002AFF reserved for USB data.
; ======================

; Notice on title screen.
@set 1A218C 60000000
; "333"
@set 3EA6C8 33333300
@set 3EA6CC 00000000

; Enable OSReport print on crash (1.02) [UnclePunch]
@set 397878 4800020C

; Tournament settings.
@set 45BF10 00340102 ; Stock mode.
@set 45BF14 04000A00 ; 4 Stocks & 1.0 damage ratio.
@set 45BF18 08010100 ; 8min timer & friendly fire.
@set 45C370 FF0000FF ; Disable items.
@set 45C380 00000000 ; Disable rumble for all.
@set 45C384 00000100 ; Deflicker off! Stop making your TV blurry AF.
@set 45C388 070000B0 ; Legal stages only for Random.

; Unlock characters & stages.
@set 45BF28 FFFFFFFF
@set 45BF2C FFFFFFFF

; Disable Trophy Messages (1.02) [Achilles]
@set 15D984 4E800020

; Skip Result Screen & KO Star Count = Placement (v1.02) [Sham Rock]
@branch  1A415C
3803FFFF 2C000004
40820060 2C0B0020
41820058 3A400000
3E808047 62949D58
3EA0804D 62B5672F
8E1400A8 8A340001
2C10004E 4080000C
9E350001 4800000C
3A310001 9E350001
3A520001 2C120004
41A0FFD8 3A000000
3A200000 3A800000
3AA00000 38000000

; CSS says "P5 and P6" when applicable.
@branch  25C00C
3DC08000 89CE2900
280E0000 4182005C
3863FFD8 3DC08045
61CEBF14 89CE0000
280E0001 40820008
3863FFFE 48000021
7C8802A6 38A00018
3DC08000 61CE31F4
7DC903A6 4E800421
48000020 4E800021
1A1A1A1A 20192005
1A202420 3120271A
20192006 00000000
80010014

; CSS Manager.
@branch  263334
3CA08047 60A59D30
88A50000 2C050002
41820014 3C608000
38800000 98832900
4800014C 3C608048
888307C0 60840018
988307C0 7C0004AC
3C608000 88632900
28030000 40820128
3C608000 A0832A00
A0A32A0C 7C832B78
546304E6 28030000
4182010C 3C608000
38800001 98832900
3C608048 80830820
80A30844 80C30868
80E3088C 3C608000
90832910 90A32918
90C32920 90E32928
3C608048 80830827
80A3084B 80C3086F
80E30893 3C608000
90832914 90A3291C
90C32924 90E3292C
3C60803F 88830E06
88A30E2A 3C608000
98832930 98A32931
3C608048 38800001
988308B1 988308D5
808308B0 80A308D4
90830820 90A30844
3C608000 88832932
88A32933 3C60803F
98830E06 98A30E2A
3C608048 3C801A03
90830868 9083088C
38600001 3DC08002
61CE4030 7DC903A6
4E800421 3DC08022
61CEEBDC 7DC903A6
4E800421 38600002
3DC0801A 61CE42F8
7DC903A6 4E800421
3DC0801A 61CE4B60
7DC903A6 4E800421
48000004 80010034

; On enter, CSS manager back to state 0 if dirty flag is set.
@branch  1B14B8
3E808047 62949D30
8A940000 2C140002
40820020 3E808000
8AB42901 28150000
41820010 3AA00000
9AB42900 9AB42901
38830000

; ConvertRawInput hack.
@branch  377600
3C608047 60639D30
88630000 2C030002
41820014 3C608000
38800000 B0832900
48000058 3C608000
88632901 28030000
40820048 3C608000
88632900 28030000
41820038 1C78000C
64638000 38632A00
A0830000 909A0000
88830002 989A0018
88830003 989A0019
88830004 989A001A
88830005 989A001B
881E001C

; Disable writes to character preload table.
@set 266B8C 60000000
@set 266B98 60000000
@set 266BA0 60000000

; Complete match data on CSS exit.
@branch  266CE0
7C0802A6 90010004
9421FF50 BE810008
3CA08047 60A59D30
88A50000 2C050002
40820120 3C608000
88832900 28040000
418200C0 3C608000
38800001 98832901
3C608048 80830820
80A30827 908308B0
90A308B7 80830844
80A3084B 908308D4
90A308DB 38800001
988308B1 988308D5
3C60803F 88830E06
88A30E2A 3C608000
98832932 98A32933
3C608000 88832930
88A32931 3C60803F
98830E06 98A30E2A
3C608000 80832910
80A32918 80C32920
80E32928 3C608048
90830820 90A30844
90C30868 90E3088C
3C608000 80832914
80A3291C 80C32924
80E3292C 3C608048
90830827 90A3084B
90C3086F 90E30893
3C608048 3C808043
38A00000 88C30821
28060003 41820018
88C30820 7CC60774
90C4208C 88C30823
98C42090 38630024
38840008 38A50001
28050006 4180FFD0
3C608001 60638254
7C6903A6 4E800421
BA810008 800100B4
382100B0 7C0803A6
38600001

; ConvertRawInput reads 6 ports.
@branch  377988
2C180004 40820024
3C600000 3F208000
63392A00 7C03CBAC
3F208000 633929F4
3F408000 635A27BC
2C180006

; In-game input receiver.
@branch  06B0DC
7C0802A6 90010004
9421FF50 BE810008
8BBF000C 281D0004
4180008C 7FA4EB78
3884FFFC 1C840044
64848000 60842800
7C0004AC 83840000
578306F6 28030000
4182000C 679C8000
639C0100 80640020
907F0620 80640024
907F0624 80640028
907F0638 8064002C
907F063C 8864001C
88A4001D 7C051840
41810010 7C651B78
80640030 48000008
80640034 907F0650
2805004C 41800008
679C8000 939F065C
48000004 BA810008
800100B4 382100B0
7C0803A6 881F2219
